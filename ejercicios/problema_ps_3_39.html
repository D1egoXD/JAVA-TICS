<!doctype html>
<html>
<head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Problema PS 3.39 - Función Matemática Compleja</title>
    <link rel='stylesheet' href='../Styles/style.css'>
    <link rel='stylesheet' href='../Styles/exercises.css'>
    <link rel='stylesheet' href='../Styles/navigation.css'>
</head>
<body>
<div class="container">
    <header>
        <h1>Problema PS 3.39 - Función Matemática Compleja</h1>
        <a href="../index.html" class="nav-button">Volver al Menú Principal</a>
    </header>

    <div class="exercise-description">
        <div class="problem-statement">
            <h3>Enunciado del Problema</h3>
            <p>Escriba un diagrama de flujo que calcule F(X,Y,Z) para cada uno de los datos que se proporcionan.</p>
            
            <div class="formula">
                <p style="margin: 0; text-align: center; font-size: 1.1em;">
                    F (X, Y, Z) = <br><br>
                    ⎧ X<br>
                    ⎪ ∏ i &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; si X &gt; 0<br>
                    ⎪ i=1<br>
                    ⎪<br>
                    ⎨ Z!<br>
                    ⎪ ── &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; si X &gt; 0, Z &gt; 0 e Y &gt; 0<br>
                    ⎪ Y!<br>
                    ⎪<br>
                    ⎩ 1 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; En cualquier otro caso
                </p>
            </div>

            <p><strong>Datos:</strong> K, X₁, Y₁, Z₁, X₂, Y₂, Z₂, ..., Xₖ, Yₖ, Zₖ</p>
            
            <p><strong>Donde:</strong></p>
            <ul>
                <li><strong>K:</strong> Variable de tipo entero que representa el número de veces que se calculará la función.</li>
                <li><strong>X, Y, Z:</strong> Variables de tipo entero que representan los datos que se ingresan para cada cálculo.</li>
            </ul>
        </div>

        <div class="explanation">
            <h3>Explicación de las Variables</h3>
            <ul>
                <li><strong>K:</strong> Variable de tipo entero. Número de iteraciones (cuántas veces se calculará F).</li>
                <li><strong>X, Y, Z:</strong> Variables de tipo entero. Los tres parámetros de entrada para la función F.</li>
                <li><strong>I:</strong> Variable de tipo entero. Contador del ciclo externo (de 1 hasta K).</li>
                <li><strong>F:</strong> Variable de tipo real (double). Resultado del cálculo de la función.</li>
            </ul>

            <h3>Explicación de la Función F(X,Y,Z)</h3>
            <p>La función tiene tres condiciones que se evalúan en orden:</p>
            <ol>
                <li><strong>Si X &gt; 0, Y &gt; 0 y Z &gt; 0:</strong> F = Z! / Y! (factorial de Z dividido por factorial de Y)</li>
                <li><strong>Si solo X &gt; 0:</strong> F = X! (producto de i=1 hasta X, que es el factorial de X)</li>
                <li><strong>En cualquier otro caso:</strong> F = 1</li>
            </ol>
            
            <p><strong>Nota:</strong> Las condiciones se evalúan en orden. La primera que se cumpla determina el resultado.</p>
        </div>

        <div class="solution-diagram">
            <h3>Diagrama de Flujo</h3>
            <div style="text-align: center; margin: 20px 0;">
                <img src="../images/problema_ps_3_39.png" alt="Diagrama de Flujo - PS 3.39" style="max-width: 100%; height: auto; border: 1px solid #ddd; border-radius: 8px; padding: 10px; background: white;">
            </div>
            <p><em>El diagrama muestra la estructura selectiva que evalúa las tres condiciones para calcular F(X,Y,Z).</em></p>
        </div>

        <div class="test-cases">
            <h3>Ejemplos de Ejecución</h3>
            <p>A continuación se muestran diferentes casos de prueba:</p>
            
            <h4>Caso 1: X &gt; 0, Y &gt; 0, Z &gt; 0</h4>
            <p><strong>Entrada:</strong> X = 5, Y = 3, Z = 6</p>
            <p><strong>Cálculo:</strong></p>
            <ul>
                <li>Se cumple: X &gt; 0 (5 &gt; 0), Y &gt; 0 (3 &gt; 0), Z &gt; 0 (6 &gt; 0) ✓</li>
                <li>F = Z! / Y! = 6! / 3!</li>
                <li>F = 720 / 6 = 120.0</li>
            </ul>
            <p><strong>Resultado:</strong> F = 120.0</p>

            <h4>Caso 2: Solo X &gt; 0</h4>
            <p><strong>Entrada:</strong> X = 4, Y = 0, Z = 0</p>
            <p><strong>Cálculo:</strong></p>
            <ul>
                <li>No se cumple: X &gt; 0 AND Y &gt; 0 AND Z &gt; 0 (porque Y = 0, Z = 0) ✗</li>
                <li>Se cumple: X &gt; 0 (4 &gt; 0) ✓</li>
                <li>F = X! = 4! = 24.0</li>
            </ul>
            <p><strong>Resultado:</strong> F = 24.0</p>

            <h4>Caso 3: Cualquier otro caso</h4>
            <p><strong>Entrada:</strong> X = 0, Y = 5, Z = 3</p>
            <p><strong>Cálculo:</strong></p>
            <ul>
                <li>No se cumple: X &gt; 0 AND Y &gt; 0 AND Z &gt; 0 (porque X = 0) ✗</li>
                <li>No se cumple: X &gt; 0 (0 no es mayor que 0) ✗</li>
                <li>Por tanto, F = 1.0</li>
            </ul>
            <p><strong>Resultado:</strong> F = 1.0</p>

            <h4>Caso 4: Valores negativos</h4>
            <p><strong>Entrada:</strong> X = -2, Y = 3, Z = 4</p>
            <p><strong>Cálculo:</strong></p>
            <ul>
                <li>No se cumple: X &gt; 0 AND Y &gt; 0 AND Z &gt; 0 (porque X = -2) ✗</li>
                <li>No se cumple: X &gt; 0 (-2 no es mayor que 0) ✗</li>
                <li>Por tanto, F = 1.0</li>
            </ul>
            <p><strong>Resultado:</strong> F = 1.0</p>
        </div>

        <div class="trace-table">
            <h3>Tabla de Traza</h3>
            <p>Ejemplo con K = 3 iteraciones:</p>
            <table class="test-table">
                <thead>
                    <tr>
                        <th>Iteración (I)</th>
                        <th>X</th>
                        <th>Y</th>
                        <th>Z</th>
                        <th>Condición Cumplida</th>
                        <th>Cálculo</th>
                        <th>F</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>5</td>
                        <td>3</td>
                        <td>6</td>
                        <td>X&gt;0, Y&gt;0, Z&gt;0</td>
                        <td>6! / 3! = 720 / 6</td>
                        <td>120.0</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>4</td>
                        <td>0</td>
                        <td>0</td>
                        <td>Solo X&gt;0</td>
                        <td>4! = 24</td>
                        <td>24.0</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>0</td>
                        <td>5</td>
                        <td>3</td>
                        <td>Otro caso</td>
                        <td>1</td>
                        <td>1.0</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="code-implementation">
            <h3>Implementación en Java (Programación Estructurada)</h3>
            <pre style="background: #2c3e50; color: #ecf0f1; padding: 15px; border-radius: 5px; overflow-x: auto;"><code>package com.tutortics;

public class problema_ps_3_39 {

    /**
     * Calcula el factorial de un número.
     * @param n El número
     * @return n! (factorial de n)
     */
    public static long factorial(int n) {
        if (n &lt; 0) return 0;
        if (n == 0 || n == 1) return 1;
        
        long resultado = 1;
        for (int i = 2; i &lt;= n; i++) {
            resultado *= i;
        }
        return resultado;
    }

    /**
     * Calcula F(X, Y, Z) según las condiciones del problema.
     * @param x Primera variable
     * @param y Segunda variable
     * @param z Tercera variable
     * @return El resultado de F(X,Y,Z)
     */
    public static double calcularF(int x, int y, int z) {
        // Condición 1: X &gt; 0, Y &gt; 0, Z &gt; 0
        if (x &gt; 0 && y &gt; 0 && z &gt; 0) {
            return (double) factorial(z) / factorial(y);
        }
        // Condición 2: Solo X &gt; 0
        else if (x &gt; 0) {
            return (double) factorial(x);
        }
        // Condición 3: Cualquier otro caso
        else {
            return 1.0;
        }
    }

    public static void main(String[] args) {
        // Ejemplo con K = 3 iteraciones
        System.out.println("=== Cálculo de F(X,Y,Z) ===\\n");
        
        int[][] datos = {{5, 3, 6}, {4, 0, 0}, {0, 5, 3}};
        
        for (int i = 0; i &lt; datos.length; i++) {
            int x = datos[i][0];
            int y = datos[i][1];
            int z = datos[i][2];
            
            double resultado = calcularF(x, y, z);
            System.out.printf("F(%d, %d, %d) = %.2f%n", x, y, z, resultado);
        }
    }
}</code></pre>
        </div>

        <div class="student-activities">
            <h3>Actividades para el Estudiante</h3>
            <p><strong>Archivo:</strong> <code>problema_ps_3_39_Estudiante.java</code></p>
            <p>Completa los métodos marcados con <code>// TODO</code>:</p>
            <ol>
                <li><strong>factorial(n):</strong> Calcula el factorial de un número usando un ciclo</li>
                <li><strong>calcularF(x, y, z):</strong> Implementa la lógica de las tres condiciones</li>
            </ol>
            
            <h4>Preguntas de Reflexión:</h4>
            <ul>
                <li>¿Por qué es importante el orden de evaluación de las condiciones?</li>
                <li>¿Qué pasaría si evaluamos primero "X &gt; 0" antes que "X &gt; 0 AND Y &gt; 0 AND Z &gt; 0"?</li>
                <li>¿Por qué usamos <code>double</code> para el resultado en lugar de <code>int</code>?</li>
                <li>¿Qué sucede con factorial de números negativos?</li>
            </ul>
            
            <h4>Prueba tus Conocimientos:</h4>
            <ul>
                <li>Prueba con X=5, Y=3, Z=6 (debería dar 120.0)</li>
                <li>Prueba con X=4, Y=0, Z=0 (debería dar 24.0)</li>
                <li>Prueba con X=0, Y=5, Z=3 (debería dar 1.0)</li>
                <li>Verifica que todos los tests pasen correctamente</li>
            </ul>
        </div>

        <div class="unit-tests">
            <h3>Tests Unitarios</h3>
            <p>El archivo <code>problema_ps_3_39_test.java</code> contiene pruebas automáticas que verifican:</p>
            <ul>
                <li>✓ Cálculo de factorial para números positivos</li>
                <li>✓ Condición 1: X &gt; 0, Y &gt; 0, Z &gt; 0 (Z! / Y!)</li>
                <li>✓ Condición 2: Solo X &gt; 0 (X!)</li>
                <li>✓ Condición 3: Otros casos (retorna 1.0)</li>
            </ul>
            
            <p style="background: #fff9c4; padding: 15px; border-left: 4px solid #fbc02d; margin: 15px 0;">
                <strong>Concepto Clave:</strong> Este problema ilustra el uso de estructuras selectivas anidadas con múltiples condiciones. 
                Es importante evaluar las condiciones de más específica a más general para obtener el resultado correcto.
            </p>
        </div>
    </div>
</div>
</body>
</html>
