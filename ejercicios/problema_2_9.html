<!doctype html>
<html>
<head>
    <meta charset='utf-8'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Problema 2.9 - C치lculo de Impuestos</title>
    <link rel="stylesheet" href="../Styles/exercises-new.css">
</head>
<body>
<div class="container">
    <header>
        <h1>Problema 2.9 - C치lculo de Impuestos</h1>
        <a href="../index.html" class="nav-button">Volver al Men칰 Principal</a>
    </header>

    <div class="exercise-description">
        <div class="problem-statement">
            <h3>Enunciado del Problema</h3>
            <p>En un cierto pa칤s el impuesto que se debe pagar por los art칤culos se calcula mediante la siguiente regla:</p>
            <ul>
                <li>Los primeros $20 no causan impuesto</li>
                <li>Los siguientes $20 tienen el 30% de impuesto</li>
                <li>El resto tiene el 40% de impuesto</li>
                <li>Si el costo del producto es mayor a $500, entonces en lugar del 40% se cobra el 50%</li>
            </ul>
            <p>Dise침e un diagrama de flujo que lea el costo b치sico de un art칤culo y calcule su precio total (precio total = precio b치sico + impuesto).</p>
        </div>

        <div class="explanation">
            <h3>Explicaci칩n de las Variables</h3>
            <ul>
                <li><strong>PREBAS:</strong> Variable de tipo real. Representa el precio b치sico del producto que se ingresa.</li>
                <li><strong>IMP:</strong> Variable de tipo real. Almacena el impuesto del producto que se ingresa.</li>
                <li><strong>PRETOT:</strong> Variable de tipo real. Almacena el costo total del producto, es decir el costo b치sico m치s el impuesto.</li>
            </ul>
        </div>

        <div class="solution-diagram">
            <h3>Diagrama de Flujo (Diagrama 2.24)</h3>
            <div style="text-align: center; margin: 20px 0;">
                <img src="../images/problema_2_9.png" alt="Diagrama de Flujo - Problema 2.9" style="max-width: 100%; height: auto; border: 1px solid #ddd; border-radius: 8px; padding: 10px; background: white;">
            </div>
            <p><em>El diagrama muestra una estructura selectiva doble (Si entonces / sino) que eval칰a el precio b치sico y calcula el impuesto correspondiente seg칰n los rangos establecidos.</em></p>
            <p><strong>Nota:</strong> Si el diagrama no se muestra, ejecuta el script de Python para generar los diagramas:</p>
            <pre style="background: #f4f4f4; padding: 10px; border-radius: 5px;"><code>python generate_diagrams.py</code></pre>
        </div>

        <div class="test-cases">
            <h3>Tabla de Pruebas</h3>
            <p>A continuaci칩n podemos observar el seguimiento del algoritmo para diferentes corridas:</p>
            <table class="test-table">
                <thead>
                    <tr>
                        <th>N칔MERO DE CORRIDA</th>
                        <th>PREBAS</th>
                        <th>IMP</th>
                        <th>PRETOT</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1</td>
                        <td>75.68</td>
                        <td>20.27</td>
                        <td>95.95</td>
                    </tr>
                    <tr>
                        <td>2</td>
                        <td>17.55</td>
                        <td>0</td>
                        <td>17.55</td>
                    </tr>
                    <tr>
                        <td>3</td>
                        <td>128.40</td>
                        <td>41.36</td>
                        <td>169.76</td>
                    </tr>
                    <tr>
                        <td>4</td>
                        <td>27.90</td>
                        <td>2.37</td>
                        <td>30.27</td>
                    </tr>
                    <tr>
                        <td>5</td>
                        <td>527.50</td>
                        <td>249.75</td>
                        <td>777.25</td>
                    </tr>
                    <tr>
                        <td>6</td>
                        <td>217.80</td>
                        <td>77.12</td>
                        <td>294.92</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <div class="source-code">
            <h3>C칩digo Fuente Completo</h3>
            <div class="code-block">
                <pre><code>package com.tutortics;
// src/problema_2.9.java

import java.util.Scanner;

public class problema_2_9 {

    /**
     * Calcula el impuesto seg칰n las reglas del Problema 2.9.
     *
     * @param precioBase El precio b치sico del art칤culo (PREBAS).
     * @return El impuesto calculado (IMP).
     */
    public double calcularImpuesto(double precioBase) {
        double impuesto;

        if (precioBase > 500) {
            // Los primeros $20 no pagan. Los siguientes $20 pagan 30%. El resto sobre $40 paga 50%.
            impuesto = (20 * 0.30) + (precioBase - 40) * 0.50;
        } else if (precioBase > 40) {
            // Los primeros $20 no pagan. Los siguientes $20 pagan 30%. El resto sobre $40 paga 40%.
            impuesto = (20 * 0.30) + (precioBase - 40) * 0.40;
        } else if (precioBase > 20) {
            // Los primeros $20 no pagan. El resto sobre $20 paga 30%.
            impuesto = (precioBase - 20) * 0.30;
        } else {
            // Menor o igual a $20 no causa impuesto.
            impuesto = 0;
        }

        return impuesto;
    }

    /**
     * Calcula el precio total sumando el precio base y el impuesto.
     *
     * @param precioBase El precio b치sico del art칤culo (PREBAS).
     * @return El precio total (PRETOT).
     */
    public double calcularPrecioTotal(double precioBase) {
        double impuesto = calcularImpuesto(precioBase);
        return precioBase + impuesto;
    }

    /**
     * M칠todo principal para la interacci칩n con el usuario.
     */
    public static void main(String[] args) {
        Scanner scanner = new Scanner(System.in);
        problema_2_9 calculadora = new problema_2_9();

        System.out.println("Introduce el precio b치sico del producto:");
        double precioBase = scanner.nextDouble();

        double precioTotal = calculadora.calcularPrecioTotal(precioBase);
        double impuesto = precioTotal - precioBase;

        System.out.println("===================================");
        System.out.printf("Precio B치sico (PREBAS): $%.2f%n", precioBase);
        System.out.printf("Impuesto (IMP):         $%.2f%n", impuesto);
        System.out.printf("Precio Total (PRETOT):  $%.2f%n", precioTotal);
        System.out.println("===================================");

        scanner.close();
    }
}</code></pre>
            </div>

            <h4 style="margin-top: 30px;">Archivo Esqueleto para Estudiantes</h4>
            <p>Este archivo contiene la estructura b치sica sin la l칩gica implementada, para que el estudiante la complete:</p>
            <p><strong>Archivo:</strong> <code>src/main/java/com/tutortics/problema_2_9_Estudiante.java</code></p>
            <div style="background: #fff3cd; padding: 15px; border-left: 4px solid #ffc107; margin: 20px 0;">
                <p><strong>游눠 Actividad para el estudiante:</strong></p>
                <p>Completa los m칠todos marcados con <code>// TODO</code> en el archivo <code>problema_2_9_Estudiante.java</code></p>
                <p><strong>Pistas:</strong></p>
                <ul>
                    <li>Usa estructuras if-else anidadas para evaluar los rangos de precio</li>
                    <li>Recuerda que los primeros $20 NO causan impuesto</li>
                    <li>Verifica primero si el precio es mayor a $500 para aplicar el 50% en lugar del 40%</li>
                </ul>
            </div>
        </div>

        <div class="test-results">
            <h3>Resultados de las Pruebas</h3>
            <div class='exercise-group'>
                <div class='exercise-header'>
                    <h4>Pruebas del Problema 2.9</h4>
                </div>
                <div class='test-cases'>
                    <div class='exercise-details'>
                        <div class='test-case-item status-pasado'>testCalcularImpuestoYPrecioTotal<br><small>0.006 s</small></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
</body>
</html>